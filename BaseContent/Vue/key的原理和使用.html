<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>key的原理和使用</title>
    <script src="./vue.js"></script>
</head>
<body>
<div id="root">
    <!-- 使用Key来给每个节点做一个唯一标识，Key的作用主要是高效地更新虚拟DOM。另外，在Vue中使用相同标签名元素过渡切换时，也会使用到Key属性，其目的是让Vue可以区分它们，否则Vue只会替换其内部属性，而不会触发过渡效果。
 -->
    <ul>
        人员列表 <br>
        <button @click.once="add">添加一个</button>
        <!-- <li v-for="(p,index) in persons" :key="index"> -->
        <!-- p.id没有问题 -->
        <li v-for="(p,index) in persons" :key="p.id">
            {{p.name}}-{{p.age}}
            <input type="text" name="" id="">
        </li>
    </ul>
</div>
</body>
<script>
    Vue.config.productionTip = false
    
    new Vue({
        el: '#root',
        data: {
            persons: [
                {id: "001", name: "张三", age: 18},
                {id: "002", name: "JOJO", age: 18},
                {id: "003", name: "李思", age: 20}
            ],
            
        },
        methods: {
            add() {
                const p = {id: "004", name: "李思文", age: 33}
                //将p添加在数组开头
                this.persons.unshift(p)
            }
        }
    })

</script>
</html>